<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8;">
	<meta http-equiv="Cache-Control" content="public;">
	<meta http-equiv="Cache-Control" content="max-age=31536000;">
	<meta http-equiv="Expires" content="Tue, 1 Oct 2013, 00:00:00 GMT">
	<meta http-equiv="last-modified" content="2013-03-27@16:20:00 TMZ" />
	<meta name="robots" content="index,follow">
	<meta name="viewport" content="width=device-width, maximum-scale=1.0" />
	<meta name="author" content="Yang Shun Tay">
	<meta name="copyright" content="Copyright Yang Shun Tay. All Rights Reserved.">
	<meta name="description" content="This is a prototype of a contest platform where users can create Python turtle art and share them with the world. People can also 'upvote' the python turtle art created.">
	<meta name="keywords" content="python, turtle, python turtle, art, cs1010s, skulpt">
	<!-- Facebook Open Graph -->
	<meta property="og:title" content="Turtlepie">
	<meta property="og:description" content="Prototype of a contest platform where users can create Python turtle art and share them with the world. People can also 'upvote' the python turtle art created.">
	<meta property="og:site_name" content="">
	<meta property="og:type" content="website">
	<meta property="og:image" content="">    
	<!-- General essentials -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
	<link href="css/normalize.css" rel="stylesheet">
	<script type="text/javascript" src="js/custom.modernizr.js"></script>
	<!-- Typekit -->
	<script type="text/javascript" src="//use.typekit.net/kji2glo.js"></script>
	<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<!-- Bootstrap -->
	<link rel="icon" type="image/png" href="img/favicon.png">
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<!-- Codemirror -->

	<link href="css/codemirror/codemirror.css" rel="stylesheet">
	<script src="js/codemirror/codemirror.js" type="text/javascript"></script>
	<script src="js/codemirror/matchbrackets.js" type="text/javascript"></script>
	<script src="js/codemirror/python.js" type="text/javascript"></script>
	<link href="http://codemirror.net/theme/xq-dark.css" rel="stylesheet">
	<!-- Skulpt -->
	<script src="js/skulpt/skulpt.js" type="text/javascript"></script>
	<script src="js/skulpt/builtin.js" type="text/javascript"></script>
	<!-- Custom styling -->
	<link href="css/style.css" rel="stylesheet">
	
	<title>Turtlepie</title>
	<script type="text/javascript"> 
		// output functions are configurable.  This one just appends some text
		// to a pre element.
		function outf(text) { 
		    var mypre = document.getElementById("output"); 
		    mypre.innerHTML = mypre.innerHTML + text; 
		} 
		function builtinRead(x) {
		    if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
		            throw "File not found: '" + x + "'";
		    return Sk.builtinFiles["files"][x];
		}
		 
		// Here's everything you need to run a python program in skulpt
		// grab the code from your textarea
		// get a reference to your pre element for output
		// configure the output function
		// call Sk.importMainWithBody()
		function runit() { 
		   var prog = myCodeMirror.getValue(); 
		   var mypre = document.getElementById("output"); 
		   mypre.innerHTML = ''; 
		   Sk.canvas = "turtle-canvas";
		   Sk.pre = "output";
		   Sk.configure({output:outf, read:builtinRead}); 
		   eval(Sk.importMainWithBody("<stdin>",false,prog)); 
		} 

		$(document).ready(function() {

			myCodeMirror = CodeMirror.fromTextArea(document.getElementById("yourcode"), {
				mode: {name: "python",
               		version: 2,
               		singleLineStringErrors: false},
		        lineNumbers: true,
		        textWrapping: false,
		        indentUnit: 2,
		        theme: 'xq-dark',
		        autofocus: true
			});
		})
	</script> 
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="span12">
				<h1>TurtlePie</h1>
				<hr/>
			</div>
		</div>
		<div class="row">
			<div class="span7">
				<h3>Code</h2>
		<textarea id="yourcode" cols="40" rows="10">
import turtle

t = turtle.Turtle()

x = 50

for i in range(5):
	for c in ['red', 'green', 'orange', 'blue']:
		t.color(c)
		t.forward(x)
		t.left(89)
		x = x+5
</textarea><br />

		<button type="button" onclick="runit()">Run</button> 
				<h3>Console</h3>
				<pre id="output" ></pre>  
	 		</div>
			<div class="span5">	 		
				<h3>Canvas</h3>
				<canvas id="turtle-canvas" width="400" height="400"></mycanvas> 
			</div>
	</div>
</body>
</html>